<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deutsch mit Rawad Â· Lerne Deutsch intelligenter</title>
    <link rel="stylesheet" href="style.css">
    <!-- Font Awesome 6 fÃ¼r tolle Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Poppins:wght@300;400;500;600;700&family=Cairo:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Supabase Library -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <!-- Magischer animierter Hintergrund -->
    <div class="bg-animation">
        <div class="wave wave1"></div>
        <div class="wave wave2"></div>
        <div class="wave wave3"></div>
    </div>

    <!-- Fortschrittsbalken oben -->
    <div class="progress-bar-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <!-- Hauptcontainer -->
    <div class="container" id="homePage">
        <!-- Header mit Logo und Stats -->
        <header>
            <div class="logo">
                <i class="fas fa-gem logo-icon"></i>
                <span class="logo-text">Deutsch mit <span class="logo-highlight">Rawad</span></span>
            </div>
            <div class="header-stats" id="headerStats">
                <div class="stat-item">
                    <i class="fas fa-users stat-icon"></i>
                    <span id="visitorCount">-</span>
                </div>
                <!-- Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„/Ø§Ù„Ø®Ø±ÙˆØ¬ -->
                <div class="stat-item" id="authButtonContainer">
                    <button class="btn-auth" id="showLoginBtn" style="background: none; border: none; color: white; cursor: pointer;">
                        <i class="fas fa-lock"></i> Ø¯Ø®ÙˆÙ„
                    </button>
                    <button class="btn-auth" id="logoutBtn" style="background: none; border: none; color: white; cursor: pointer; display: none;">
                        <i class="fas fa-sign-out-alt"></i> Ø®Ø±ÙˆØ¬
                    </button>
                </div>
            </div>
        </header>

        <!-- Ù†Ø§ÙØ°Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© -->
        <div id="loginModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 9999; justify-content: center; align-items: center;">
            <div style="background: white; padding: 30px; border-radius: 20px; max-width: 400px; width: 90%;">
                <h3 style="margin-bottom: 20px; color: #333;">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ†</h3>
                <input type="text" id="loginUsername" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" style="width: 100%; padding: 12px; margin-bottom: 15px; border: 2px solid #ddd; border-radius: 10px;">
                <input type="password" id="loginPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" style="width: 100%; padding: 12px; margin-bottom: 20px; border: 2px solid #ddd; border-radius: 10px;">
                <div style="display: flex; gap: 10px;">
                    <button onclick="handleManualLogin()" style="flex: 1; padding: 12px; background: #2563eb; color: white; border: none; border-radius: 10px; cursor: pointer;">Ø¯Ø®ÙˆÙ„</button>
                    <button onclick="closeLoginModal()" style="flex: 1; padding: 12px; background: #ddd; border: none; border-radius: 10px; cursor: pointer;">Ø¥Ù„ØºØ§Ø¡</button>
                </div>
            </div>
        </div>

        <main>
            <!-- Hero Section mit Willkommensnachricht -->
            <div class="hero-section" id="heroSection">
                <div class="hero-badge">
                    <i class="fas fa-graduation-cap"></i>
                    <span>Willkommen zurÃ¼ck!</span>
                </div>
                <h1 class="hero-title">
                    <span class="hero-title-main">Deutsch lernen mit Rawad</span>
                    <span class="hero-title-sub">HÃ¶rverstehen & Leseverstehen</span>
                </h1>
                
                <!-- Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
                <div id="welcomeMessage" style="margin: 20px 0; padding: 15px; background: rgba(255,255,255,0.2); border-radius: 10px; color: white; display: none;">
                    <i class="fas fa-star"></i> Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø£Ù†Øª Ø§Ù„Ø¢Ù† ØªØ´Ø§Ù‡Ø¯ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ÙƒØ§Ù…Ù„
                </div>
                
                <!-- Kategorie-Karten -->
                <div class="category-cards">
                    <div class="category-card" id="lesenCategory">
                        <div class="category-icon">
                            <i class="fas fa-book-open"></i>
                        </div>
                        <h3>Leseverstehen</h3>
                        <p>5 Teile Â· 40+ Texte</p>
                        <div class="category-progress">
                            <div class="progress" style="width: 0%"></div>
                        </div>
                        <button class="btn btn-category" id="startLesenBtn">
                            <span>Starten</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                    
                    <div class="category-card" id="hÃ¶renCategory">
                        <div class="category-icon">
                            <i class="fas fa-headphones"></i>
                        </div>
                        <h3>HÃ¶rverstehen</h3>
                        <p>4 Teile Â· 32+ Audios</p>
                        <div class="category-progress">
                            <div class="progress" style="width: 0%"></div>
                        </div>
                        <button class="btn btn-category" id="startHÃ¶renBtn">
                            <span>Starten</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- LESEN SEKTION - Teil 1 (Aktuell) -->
            <div class="category-section" id="lesenSection" style="display: none;">
                <div class="section-header">
                    <button class="btn btn-back" id="backToHomeFromLesen">
                        <i class="fas fa-arrow-left"></i>
                        <span>ZurÃ¼ck</span>
                    </button>
                    <h2 class="section-title">
                        <i class="fas fa-book-open section-title-icon"></i>
                        Leseverstehen Â· Teil 1
                    </h2>
                    <div class="teil-indicator">
                        <span class="teil active">1</span>
                        <span class="teil">2</span>
                        <span class="teil">3</span>
                        <span class="teil">4</span>
                        <span class="teil">5</span>
                    </div>
                </div>

                <!-- Geschichten-Grid fÃ¼r Lesen Teil 1 -->
                <div class="stories-grid" id="lesenStoriesGrid">
                    <!-- Wird per JavaScript befÃ¼llt -->
                </div>
            </div>

            <!-- HÃ–REN SEKTION - Teil 1 -->
            <div class="category-section" id="hÃ¶renSection" style="display: none;">
                <div class="section-header">
                    <button class="btn btn-back" id="backToHomeFromHÃ¶ren">
                        <i class="fas fa-arrow-left"></i>
                        <span>ZurÃ¼ck</span>
                    </button>
                    <h2 class="section-title">
                        <i class="fas fa-headphones section-title-icon"></i>
                        HÃ¶rverstehen Â· Teil 1
                    </h2>
                    <div class="teil-indicator">
                        <span class="teil active">1</span>
                        <span class="teil">2</span>
                        <span class="teil">3</span>
                        <span class="teil">4</span>
                    </div>
                </div>

                <!-- Geschichten-Grid fÃ¼r HÃ¶ren Teil 1 -->
                <div class="stories-grid" id="hÃ¶renStoriesGrid">
                    <!-- Wird spÃ¤ter mit HÃ¶rgeschichten befÃ¼llt -->
                    <div class="story-card coming-soon">
                        <i class="fas fa-clock story-icon"></i>
                        <h3>HÃ¶rgeschichten</h3>
                        <p>Bald verfÃ¼gbar</p>
                        <div class="story-badge">Teil 1 Â· 8 Geschichten</div>
                    </div>
                    <div class="story-card coming-soon">
                        <i class="fas fa-clock story-icon"></i>
                        <h3>Alltagssituationen</h3>
                        <p>Bald verfÃ¼gbar</p>
                        <div class="story-badge">Teil 1 Â· 6 Dialoge</div>
                    </div>
                    <div class="story-card coming-soon">
                        <i class="fas fa-clock story-icon"></i>
                        <h3>Kurze Ansagen</h3>
                        <p>Bald verfÃ¼gbar</p>
                        <div class="story-badge">Teil 1 Â· 5 Ansagen</div>
                    </div>
                </div>
            </div>

            <!-- Fragen Sektion (fÃ¼r beide Kategorien) -->
            <div class="questions-section" id="questionsSection" style="display: none;">
                <div class="questions-header">
                    <button class="btn btn-back" id="backToStoriesBtn">
                        <i class="fas fa-arrow-left"></i>
                        <span>ZurÃ¼ck zu den Geschichten</span>
                    </button>
                    <div class="category-badge" id="currentCategoryBadge"></div>
                </div>
                
                <div class="story-header" id="storyHeader">
                    <h2 class="story-title" id="currentStoryTitle"></h2>
                    <div class="story-progress">
                        <span id="currentQuestionNumber">1</span>/<span id="totalQuestions">8</span>
                    </div>
                </div>

                <!-- Ù…Ù„Ø®Øµ Ø§Ù„Ù‚ØµØ© Ù…Ø¹ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ØºØ© -->
                <div class="summary-section" id="summarySection">
                    <div class="summary-header">
                        <span class="summary-label">
                            <i class="fas fa-book-reader"></i>
                            Ù…Ù„Ø®Øµ Ø§Ù„Ù‚ØµØ© / Zusammenfassung
                        </span>
                        <div class="summary-lang-tabs">
                            <button type="button" class="summary-lang-btn active" data-lang="ar" title="Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©">
                                Ø¹Ø±Ø¨ÙŠ
                            </button>
                            <button type="button" class="summary-lang-btn" data-lang="de" title="Deutsch">
                                Deutsch
                            </button>
                        </div>
                    </div>
                    <div class="summary-content" id="summaryContent" dir="auto"></div>
                </div>

                <div class="question-card" id="questionCard">
                    <div class="question-badge">
                        <i class="fas fa-question-circle"></i>
                        <span>Ist diese Aussage richtig oder falsch?</span>
                    </div>
                    
                    <div class="question-text-container" id="questionTextContainer">
                        <!-- Wird per JavaScript befÃ¼llt -->
                    </div>

                    <div class="options-container" id="optionsContainer">
                        <button class="option-btn option-r" data-answer="R">
                            <i class="fas fa-check-circle"></i>
                            <span>Richtig (R)</span>
                        </button>
                        <button class="option-btn option-f" data-answer="F">
                            <i class="fas fa-times-circle"></i>
                            <span>Falsch (F)</span>
                        </button>
                    </div>

                    <div class="feedback-container" id="feedbackContainer" style="display: none;">
                        <div class="feedback-icon" id="feedbackIcon"></div>
                        <div class="feedback-message" id="feedbackMessage"></div>
                    </div>

                    <div class="navigation-buttons">
                        <button class="btn btn-next" id="nextBtn" disabled>
                            <span>NÃ¤chste Frage</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Ergebnisse Sektion -->
            <div class="results-section" id="resultsSection" style="display: none;">
                <div class="results-card">
                    <div class="results-icon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <h2 class="results-title">Geschafft! ðŸŽ‰</h2>
                    <div class="results-status" id="resultsStatus">
                        <span class="status-badge status-pass" id="statusBadge">Ù†Ø§Ø¬Ø­</span>
                    </div>
                    <p class="results-subtitle" id="resultsSubtitle">Tolle Leistung!</p>
                    
                    <div class="score-display">
                        <div class="score-circle" id="scoreCircle">
                            <span class="score-number" id="finalScore">0</span>
                            <span class="score-total">/ <span id="finalTotal">0</span></span>
                        </div>
                        <div class="score-stats">
                            <div class="score-stat correct-stat">
                                <i class="fas fa-check-circle"></i>
                                <span id="correctCount">0</span> richtig
                            </div>
                            <div class="score-stat wrong-stat">
                                <i class="fas fa-times-circle"></i>
                                <span id="wrongCount">0</span> falsch
                            </div>
                            <div class="score-stat points-stat">
                                <i class="fas fa-star"></i>
                                <span id="pointsEarned">0</span> Punkte
                            </div>
                        </div>
                    </div>

                    <div class="results-actions">
                        <button class="btn btn-primary" id="tryAgainBtn">
                            <i class="fas fa-redo-alt"></i>
                            <span>Nochmal Ã¼ben</span>
                        </button>
                        <button class="btn btn-secondary" id="moreStoriesBtn">
                            <i class="fas fa-book"></i>
                            <span>Mehr Geschichten</span>
                        </button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer>
            <p>Â© 2026 Deutsch mit Rawad Â· Lerne Deutsch mit SpaÃŸ</p>
            <div class="footer-links">
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-youtube"></i></a>
                <a href="#"><i class="fab fa-tiktok"></i></a>
            </div>
        </footer>
    </div>

    <!-- Toast Benachrichtigungen -->
    <div class="toast-notification" id="toastNotification">
        <i class="fas fa-info-circle"></i>
        <span id="toastMessage"></span>
    </div>

    <script src="script.js"></script>
</body>
</html>